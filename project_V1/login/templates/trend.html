
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Trend</title>
    {% load staticfiles %}
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
        integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="{% static style.css%}">
    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
        integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous">
    </script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
        integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous">
    </script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script src="{% static trend.js%}"></script>
</head>

<body>

    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <div class="sidebar-header text-align-center">
            </div>

            <ul class="list-unstyled components">
                <li class="active">
                    <a href="dashboard.html">
                        <i class="fas fa-home"></i>
                        &nbsp; dashboard
                    </a>

                </li>
                <li >
                    <a href="followers.html">
                        <i class="fas fa-user-plus"></i>
                        &nbsp; followers
                    </a>

                    <div class="collapse list-unstyled" id="pageSubmenu">

                    </div>
                </li>
                <li id="3">
                    <a href="following.html">
                        <i class="fas fa-user-check"></i>
                        &nbsp; following
                    </a>
                </li>
                <li id="4">
                    <a href="contact.html">
                        <i class="fas fa-paper-plane"></i>
                        &nbsp; contact
                    </a>
                </li>
            </ul>

        </nav>

        <!-- Page Content  -->
        <div id="content">
            <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
                <div class="text-center navbar-brand-wrapper d-flex align-items-top justify-content-center">
                    <a class="navbar-brand brand-logo" href="dashboard.html">
                        <u>BUDDY|UP</u>
                        <a class="navbar-brand brand-logo-mini" href="dashboard.html">
                            <img src="#" alt="logo" /> </a>
                </div>
                <div class="navbar-menu-wrapper d-flex align-items-center">
                    <ul class="navbar-nav">
                        <bold>Help: +050 2992 709</bold>
                    </ul>
                    <form class="ml-auto search-form d-none d-md-block" action="#">
                        <div class="form-group">
                            <input type="search" class="form-control" placeholder="Search Friends">
                        </div>
                    </form>
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link count-indicator" id="messageDropdown" href="#" data-toggle="dropdown"
                                aria-expanded="false">
                                <i class="fas fa-bell"></i>
                                <span class="count">7</span>
                            </a>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link count-indicator" id="notificationDropdown" href="#"
                                data-toggle="dropdown">
                                <i class="fas fa-envelope"></i>
                                <span class="count">3</span>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <h3>|</h3>
                        </li>
                        <li class="nav-item dropdown d-none d-xl-inline-block">
                            <a class="nav-link" id="UserDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                                Jon Doe &nbsp;
                                <img class="img-xs rounded-circle" src="../Dashboard/assets/images/faces/face8.jpg"
                                    alt="Profile image" style="height: 50px; width: 50px;"> </a>
                            <div class="dropdown-menu dropdown-menu-right navbar-dropdown"
                                aria-labelledby="UserDropdown">
                                <a class="dropdown-item">My Profile <span
                                        class="badge badge-pill badge-danger"></span><i
                                        class="dropdown-item-icon ti-dashboard"></i></a>
                                <a class="dropdown-item">Messages<i class="dropdown-item-icon ti-comment-alt"></i></a>
                                <a class="dropdown-item">Activity<i
                                        class="dropdown-item-icon ti-location-arrow"></i></a>
                                <a class="dropdown-item">FAQ<i class="dropdown-item-icon ti-help-alt"></i></a>
                                <a class="dropdown-item">Sign Out<i class="dropdown-item-icon ti-power-off"></i></a>
                            </div>
                        </li>
                    </ul>
                    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
                        data-toggle="offcanvas">
                        <span class="mdi mdi-menu"></span>
                    </button>
                </div>
            </nav>
            <div class="content-wrapper">
                <h2>Trend</h2>
                       <div class="row m-b-1">
                           <div class="col-12">
                               <div class="card shadow">
                                  <div id="chartContainer" style="height: 400px; width: 100%;"></div>
                                   {%csrf_token%}
                                   {%block content%}
                                   {% for c in tweet_data%}
                                  <div id="tweet_data">{{c}} &nbsp; 
                                <input type="radio" name="Positive" id="rd1">Yes
                                <input type="radio" name="Positive" id="rd2">No
                                  </div>
                                    {%endfor%}
                                    {%endblock %}
                                    <input type="submit" value="Submit">
                                   </div>
                               </div>
                           </div>
                       </div> <!-- row -->
            <!--           <div class="row m-b-1">
                           <div class="col-lg-6">
                               <div class="card shadow">
                                <div class="data-container" value="{{Message}}"></div>
                                   <h4 class="card-header">Product Wise Revenue</h4>
                                   <div class="card-block">
                                       <div id="products-revenue-pie-chart"></div>
                                   </div>
                               </div>
                           </div>

                           <div class="col-lg-6">
                               <div class="card shadow">
                                   <h4 class="card-header">Orders</h4>
                                   <div class="card-block">
                                       <div id="orders-spline-chart"></div>
                                   </div>
                               </div>
                           </div>
                       </div> <!-- row -->
            </div>
      
                        
            <script>
                window.onload = function () {
                    var data = "{{Message}}";
                    var res = data.replace(/&quot;/g, '"');
                    //var new_date = res.replace(/datetime.date/g, "new Date");
                    var obj = JSON.parse(res)
                   // alert(typeof(obj[0]['x']));
                    for(var i=0;i<obj.length;i++){
                        
                        obj[i]['x'] = new Date(obj[i]['x']);
                     //   obj[i]['x']=obj[i]['x'].replace('"',")");
                    }

                    var chart = new CanvasJS.Chart("chartContainer", {
                        theme: "light2", // "light1", "light2", "dark1", "dark2"
                        animationEnabled: true,
                        title: {
                            text: "{{friend}}'s Trend"
                        },
                        axisX: {
                            valueFormatString: "DD, MMM",
                            title: "Date",
                            interval: 1,
                            intervalType: "Day",
                        },
                        axisY: {
                            title: "Sentiment",
                            interval: 1,
                            valueFormatString: "0"
                        },
                        data: [{
                            type: "splineArea",
                            markerSize: 12,
                            xValueType: "datetime",
                            xValueFormatString: "DD, MMM",
                            yValueFormatString: "#",
                            dataPoints: obj,
                        }]
                    });
                    console.log(obj);
                    chart.render();
                }
            </script>



                <!-- jQuery CDN - Slim version (=without AJAX) -->
                <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
                <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

</body>

</html>